
private Player player;
private boolean arriba, abajo, derecha,izquierda;
private ArrayList<Proyectil> balaJugador;

public void setup(){
  size(600,600);
  player = new Player(new PVector(width/2, height/2));
  balaJugador = new ArrayList<Proyectil>();
}

public void  draw(){
background(255);
 this.player.display();
 for (int i = balaJugador.size() - 1; i >= 0; i--) {
    Proyectil bala = balaJugador.get(i);
    bala.mover();
    bala.display();
    
   if (bala.posicion.x < 0 || bala.posicion.x > width
       || bala.posicion.y < 0 || bala.posicion.y > height){
     balaJugador.remove(i);
    }
  }
  if(arriba) player.mover('u');
  if(abajo) player.mover('d');
  if(derecha) player.mover('r');
  if(izquierda) player.mover('l');
}

public void mousePressed(){
 balaJugador.add(new BalaJugador(player.posicion.copy(), new PVector(mouseX, mouseY)));
}

public void keyPressed(){
  if(keyCode == UP) arriba = true;
  if(keyCode == DOWN) abajo = true;
  if(keyCode == RIGHT) derecha = true;
  if(keyCode == LEFT) izquierda = true;
  
}
  
public void keyReleased(){
   if(keyCode == UP) arriba = false;
   if(keyCode == DOWN) abajo = false;
   if(keyCode == RIGHT) derecha = false;
   if(keyCode == LEFT) izquierda = false;
}
