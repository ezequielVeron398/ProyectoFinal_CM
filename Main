private Player player;
private ArrayList<ZombieMele> enemigosA;
private ArrayList<ZombieDistancia> enemigos;
//private PImage fondo;
private boolean w, s, d, a;
private int tiempoInicio;
private float deltaTime;

public void setup() {
  size(1024, 620);
  //this.fondo = loadImage("esenario4.png");
  this.player = new Player();
  this.enemigos = new ArrayList<ZombieDistancia>();
  this.enemigosA = new ArrayList<ZombieMele>();
  this.tiempoInicio = millis();
  for (int i = 0; i < 2; i++) { //crea enemigoDistancia
    this.enemigos.add(new ZombieDistancia());
  }
  for (int i = 0; i < 2; i++) { //crea enemigoMele
    this.enemigosA.add(new ZombieMele());
  }
}

public void  draw() {
  background(100, 200, 100);

  int tiempoActual = millis();
  this.deltaTime =(tiempoActual - tiempoInicio)/1000.0;
  this.tiempoInicio = tiempoActual;

  this.player.display();
  this.player.usaArma();
  this.player.mover(w, s, a, d);
  this.player.recibioDañoDistancia();

  for (ZombieDistancia enemigo : enemigos) {//colicion  entre la balaVomito y player
    this.player.colisionarJugadorBala(enemigo.getBalasVomito());
  }
  this.player.colisionarEnemigos(this.enemigos, this.enemigosA); //colicon entre BalaJugar y enemigos


  for (ZombieDistancia e : enemigos) { //Visualiza ZombieDistancia y dispara
    e.display();
    e.mover(player.getPosicionPlayer(), deltaTime);
    e.disparar();
  }
  for (ZombieMele e : enemigosA) {//visualiza ZombieMele
    e.display();
    e.mover(player.getPosicionPlayer(), deltaTime);
    this.player.recibioDañoMele(e.getPosicion());
   
  }
}

public void mousePressed() {
  println(deltaTime );
  this.player.recargarBalas();
}

public void keyPressed() {
  if (key == 's' || key == 'S') s = true;
  if (key == 'w' || key == 'W') w = true;
  if (key == 'a' || key == 'A') a = true;
  if (key == 'd' || key == 'D') d = true;
}

public void keyReleased() {
  if (key == 's' || key == 'S') s = false;
  if (key == 'w' || key == 'W') w = false;
  if (key == 'a' || key == 'A') a = false;
  if (key == 'd' || key == 'D') d = false;
}
